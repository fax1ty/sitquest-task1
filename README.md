# Магическое ✨ решение для работы с samadm.ru

## Выполнение требований квеста

1. (обязательное) Создать телеграм-бота ✔️ ([telegraf](https://github.com/telegraf/telegraf))
    1. сканирующего сайт администрации г.о. Самары на предмет анонсов и отчётов о проведении публичных слушаний (пример уведомления, пример постановления) ✔️
    1. трансформирующий информацию с сайта в набор параметров (ссылка, наименование, даты, заявитель, адрес и т.д.) ❓
    1. пересылающий информацию в указанный чат ✔️
1. (необязательное) Бот написан на сильно статически-типизированном языке ⚠️ Typescript - динамически типизированный язык, надстройка над JS
1. (обязательное) Бот имеет параметры конфигурации через переменные окружения ✔️ ([dotenv](https://github.com/motdotla/dotenv))
    1. сайт для сканирования ✔️
    1. чат для отправки найденной информации ✔️
1. (обязательное) Бот должен запоминать “отсмотренную” информацию и не присылать её повторно ✔️
1. (большой плюс) Бот должен быть контейнеризован ✔️
1. (обязательное) Бот опубликован в открытом доступе со свободной лицензией ✔️

## Как это запустить

1. Тут есть `Dockerfile`, запускайте как привычный контейнер
2. Всё ещё можно запустить это как standalone приложение в Node.JS (`yarn start` / `npm run start`).  
P.S. Заранее установите зависимости - `yarn` / `npm i`

### Переменные среды

1. `TELEGRAM_TOKEN` - *(строка)* токен бота Telegram. Получается у [@BotFather](https://t.me/BotFather)
1. `TELEGRAM_CHANNEL` - *(число)* ID чата, в который бот будет посылать сообщения 
1. `ENDPOINT` - *(строка)* URL без слэша справа. Синтаксис - `protocol://domain.tld`
1. `UPDATE_INTERVAL` - *(число, float)* Каждое X **минут** бот будет проверять новые публикации 